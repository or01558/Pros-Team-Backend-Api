{
  "version": 3,
  "sources": ["../../../../../src/rest/database/client/Client.ts"],
  "sourcesContent": ["import mysql from \"mysql\";\r\nexport default class Client {\r\n\r\n    #connection: mysql.Connection;\r\n    connected: boolean;\r\n\r\n    constructor() {\r\n        const port = process.env.DATABASE_PORT;\r\n        this.#connection = mysql.createConnection({ database: \"PROS_TEAM\", host: process.env.DATABASE_HOST, port: port ? parseInt(port) : -1, user: process.env.DATABASE_USER, password: process.env.DATABASE_PASSWORD });\r\n        this.connected = false;\r\n        this.connect.bind(this);\r\n        this.query.bind(this);\r\n    };\r\n    \r\n    connect(callback: () => any) {\r\n        this.#connection.connect({}, (err) => {\r\n            if (err)\r\n                throw err;\r\n            this.connected = true;\r\n            callback();\r\n        });\r\n        return true;\r\n    };\r\n\r\n    query(command: string) {\r\n        return new Promise((resolve, reject) => {\r\n            this.#connection.query(command, ((err, results, fields) => {\r\n                if (err)\r\n                    reject(err);\r\n                if (results && fields) resolve(results);\r\n                else if (fields) resolve(fields);\r\n                else if (results) resolve(results);\r\n                else resolve(undefined);\r\n            }));\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=Client.js.map"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA,mBAAkB;AAClB,aAA4B;AAAA;AAAA,EAGxB;AAAA,EAEA,cAAc;AACV,UAAM,OAAO,QAAQ,IAAI;AACzB,uBAAmB,qBAAM,iBAAiB,EAAE,UAAU,aAAa,MAAM,QAAQ,IAAI,eAAe,MAAM,OAAO,SAAS,QAAQ,IAAI,MAAM,QAAQ,IAAI,eAAe,UAAU,QAAQ,IAAI;AAC7L,SAAK,YAAY;AACjB,SAAK,QAAQ,KAAK;AAClB,SAAK,MAAM,KAAK;AAAA;AAAA,EAGpB,QAAQ,UAAqB;AACzB,qBAAiB,QAAQ,IAAI,CAAC,QAAQ;AAClC,UAAI;AACA,cAAM;AACV,WAAK,YAAY;AACjB;AAAA;AAEJ,WAAO;AAAA;AAAA,EAGX,MAAM,SAAiB;AACnB,WAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACpC,uBAAiB,MAAM,SAAU,CAAC,KAAK,SAAS,WAAW;AACvD,YAAI;AACA,iBAAO;AACX,YAAI,WAAW;AAAQ,kBAAQ;AAAA,iBACtB;AAAQ,kBAAQ;AAAA,iBAChB;AAAS,kBAAQ;AAAA;AACrB,kBAAQ;AAAA;AAAA;AAAA;AAAA;",
  "names": []
}
